(function(){var a,b,c,d,e,f,g,h,i;return window._hsq==null&&(window._hsq=[]),b=!1,c=function(a){if(b)return;return _hsq.push(["identify",{wistia_visitor_key:a.visitorKey()}]),b=!0},g=function(a,b){var c,d,e;return d=document.location.href.split("?")[0],c=((e=document.getElementsByTagName("title")[0])!=null?e.innerHTML:void 0)||"",c=c.replace(/^[\n\s]+/,"").replace(/[\n\s]+$/,""),c=c.replace(/[^\x00-\x7F]/g,""),a.foreignData({hubspot_hutk:b.utk.visitor,wistia_visitor_key:a.visitorKey(),page_url:d,page_name:c,canonical_url:b.canonicalUrl,page_id:b.pageId,content_type:b.contentType})},h=function(a){var b,c,d,e,f,g,h,i,j,k;b=[];for(c=h=0,j=Math.floor(a.duration());0<=j?h<=j:h>=j;c=0<=j?++h:--h)b.push(!1);if(a.state()==="playing")for(f=i=0,k=Math.floor(a.time());0<=k?i<=k:i>=k;f=0<=k?++i:--i)b[f]=!0;return e=Math.min(.995,(b.length-1)/b.length),d=function(){var a,c,d,e;c=0;for(d=0,e=b.length;d<e;d++)a=b[d],a&&(c+=1);return c/b.length},g=function(b){return _hsq.push(["trackEvent",{id:'Video "'+a.name()+'": '+b}])},a._hsPlayEventCallback=function(){return g("Played"),this.unbind},a._hsSecondChangeEventCallback=function(a){var c;b[a]=!0,c=d();if(b.length>0&&c>=e)return g("100% Watched"),this.unbind},a.state()==="playing"?g("Played"):a.bind("play",a._hsPlayEventCallback),a.bind("secondchange",a._hsSecondChangeEventCallback)},i=function(a){var b;return b=a.replace,a.replace=function(c,d){return a._hsSecondChangeEventCallback!=null&&a.unbind("secondchange",a._hsSecondChangeEventCallback),a._hsPlayEventCallback!=null&&a.unbind("play",a._hsPlayEventCallback),b.call(a,c,d),h(a)}},d=function(){return wistiaEmbeds.onFind(function(a){return a.ready(function(){return Wistia.util.poll(function(){return a.visitorKey()},function(){return c(a),a instanceof Wistia.PlaylistIframeAPI?a.bind("play",function(){return _hsq.push(["trackEvent",{id:"Played video in playlist"}]),this.unbind}):(h(a),i(a),window._hsq.push(function(b){return g(a,b)}))})})})},window.wistiaEmbeds!=null?d():(window.wistiaEmbedShepherdReady!=null?(e=window.wistiaEmbedShepherdReady,window.wistiaEmbedShepherdReady=function(){return e(),d()}):window.wistiaEmbedShepherdReady=d,a=document.createElement("script"),a.type="text/javascript",a.async=!0,a.src="//fast.wistia.com/assets/external/embed_shepherd-v1.js",f=document.getElementsByTagName("script")[0],f.parentNode.insertBefore(a,f))})()