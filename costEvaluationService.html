<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <title>Mela by tuwiendsg</title>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

        <script
        src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
        <link rel="stylesheet"
              href="http://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>

        <script>
            $(function () {
                $("#pricingSchemeDescription").accordion({
                    active: false,
                    collapsible: true
                });
            });
            $(function () {
                $("#compositionRuleDescription").accordion({
                    active: false,
                    collapsible: true
                });
            });


            $(function () {
                $("#serviceStructureSpecification").accordion({
                    active: false,
                    collapsible: true
                });
            });


        </script>

<script type="text/javascript">
    $(function(){
      $("#apiTable").load("API.htm"); 
    });
    </script> 

        <script type="text/javascript">

            $(document).ready(function () {
                var top = $('#navibar').offset().top - parseFloat($('#navibar').css('marginTop').replace(/auto/, 100));
                $(window).scroll(function (event) {
                    // what the y position of the scroll is
                    var y = $(this).scrollTop();

                    // whether that's below the form
                    if (y >= top) {
                        // if so, ad the fixed class
                        $('#navibar').addClass('fixed');
                    } else {
                        // otherwise remove it
                        $('#navibar').removeClass('fixed');
                    }
                });
            });</script>

        <style>
            <!--
            /* Font Definitions */
            @font-face
            {font-family:"Cambria Math";
             panose-1:2 4 5 3 5 4 6 3 2 4;
             mso-font-charset:0;
             mso-generic-font-family:roman;
             mso-font-pitch:variable;
             mso-font-signature:-1610611985 1107304683 0 0 159 0;}
            @font-face
            {font-family:Calibri;
             panose-1:2 15 5 2 2 2 4 3 2 4;
             mso-font-charset:0;
             mso-generic-font-family:swiss;
             mso-font-pitch:variable;
             mso-font-signature:-1610611985 1073750139 0 0 159 0;}
            /* Style Definitions */
            p.MsoNormal, li.MsoNormal, div.MsoNormal
            {mso-style-unhide:no;
             mso-style-qformat:yes;
             mso-style-parent:"";
             margin-top:0in;
             margin-right:0in;
             margin-bottom:10.0pt;
             margin-left:0in;
             line-height:115%;
             mso-pagination:widow-orphan;
             font-size:11.0pt;
             font-family:"Calibri","sans-serif";
             mso-ascii-font-family:Calibri;
             mso-ascii-theme-font:minor-latin;
             mso-fareast-font-family:Calibri;
             mso-fareast-theme-font:minor-latin;
             mso-hansi-font-family:Calibri;
             mso-hansi-theme-font:minor-latin;
             mso-bidi-font-family:"Times New Roman";
             mso-bidi-theme-font:minor-bidi;}
            p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
            {mso-style-priority:34;
             mso-style-unhide:no;
             mso-style-qformat:yes;
             margin-top:0in;
             margin-right:0in;
             margin-bottom:10.0pt;
             margin-left:.5in;
             mso-add-space:auto;
             line-height:115%;
             mso-pagination:widow-orphan;
             font-size:11.0pt;
             font-family:"Calibri","sans-serif";
             mso-ascii-font-family:Calibri;
             mso-ascii-theme-font:minor-latin;
             mso-fareast-font-family:Calibri;
             mso-fareast-theme-font:minor-latin;
             mso-hansi-font-family:Calibri;
             mso-hansi-theme-font:minor-latin;
             mso-bidi-font-family:"Times New Roman";
             mso-bidi-theme-font:minor-bidi;}
            p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
            {mso-style-priority:34;
             mso-style-unhide:no;
             mso-style-qformat:yes;
             mso-style-type:export-only;
             margin-top:0in;
             margin-right:0in;
             margin-bottom:0in;
             margin-left:.5in;
             margin-bottom:.0001pt;
             mso-add-space:auto;
             line-height:115%;
             mso-pagination:widow-orphan;
             font-size:11.0pt;
             font-family:"Calibri","sans-serif";
             mso-ascii-font-family:Calibri;
             mso-ascii-theme-font:minor-latin;
             mso-fareast-font-family:Calibri;
             mso-fareast-theme-font:minor-latin;
             mso-hansi-font-family:Calibri;
             mso-hansi-theme-font:minor-latin;
             mso-bidi-font-family:"Times New Roman";
             mso-bidi-theme-font:minor-bidi;}
            p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
            {mso-style-priority:34;
             mso-style-unhide:no;
             mso-style-qformat:yes;
             mso-style-type:export-only;
             margin-top:0in;
             margin-right:0in;
             margin-bottom:0in;
             margin-left:.5in;
             margin-bottom:.0001pt;
             mso-add-space:auto;
             line-height:115%;
             mso-pagination:widow-orphan;
             font-size:11.0pt;
             font-family:"Calibri","sans-serif";
             mso-ascii-font-family:Calibri;
             mso-ascii-theme-font:minor-latin;
             mso-fareast-font-family:Calibri;
             mso-fareast-theme-font:minor-latin;
             mso-hansi-font-family:Calibri;
             mso-hansi-theme-font:minor-latin;
             mso-bidi-font-family:"Times New Roman";
             mso-bidi-theme-font:minor-bidi;}
            p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
            {mso-style-priority:34;
             mso-style-unhide:no;
             mso-style-qformat:yes;
             mso-style-type:export-only;
             margin-top:0in;
             margin-right:0in;
             margin-bottom:10.0pt;
             margin-left:.5in;
             mso-add-space:auto;
             line-height:115%;
             mso-pagination:widow-orphan;
             font-size:11.0pt;
             font-family:"Calibri","sans-serif";
             mso-ascii-font-family:Calibri;
             mso-ascii-theme-font:minor-latin;
             mso-fareast-font-family:Calibri;
             mso-fareast-theme-font:minor-latin;
             mso-hansi-font-family:Calibri;
             mso-hansi-theme-font:minor-latin;
             mso-bidi-font-family:"Times New Roman";
             mso-bidi-theme-font:minor-bidi;}
            span.SpellE
            {mso-style-name:"";
             mso-spl-e:yes;}
            .MsoChpDefault
            {mso-style-type:export-only;
             mso-default-props:yes;
             mso-ascii-font-family:Calibri;
             mso-ascii-theme-font:minor-latin;
             mso-fareast-font-family:Calibri;
             mso-fareast-theme-font:minor-latin;
             mso-hansi-font-family:Calibri;
             mso-hansi-theme-font:minor-latin;
             mso-bidi-font-family:"Times New Roman";
             mso-bidi-theme-font:minor-bidi;}
            .MsoPapDefault
            {mso-style-type:export-only;
             margin-bottom:10.0pt;
             line-height:115%;}
            @page Section1
            {size:8.5in 11.0in;
             margin:1.0in 1.0in 1.0in 1.0in;
             mso-header-margin:.5in;
             mso-footer-margin:.5in;
             mso-paper-source:0;}
            div.Section1
            {page:Section1;}
            /* List Definitions */
            @list l0
            {mso-list-id:1322584609;
             mso-list-type:hybrid;
             mso-list-template-ids:-2000402242 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
            @list l0:level1
            {mso-level-tab-stop:none;
             mso-level-number-position:left;
             margin-left:.25in;
             text-indent:-.25in;}
            ol
            {margin-bottom:0in;}
            ul
            {margin-bottom:0in;}
            -->
        </style>

    </head>

    <body>
        <header>
            <div class="inner">
                <h1>Documentation and Guides</h1>
                <h2>MELA Composable Cost Evaluation Service</h2>
                <a href="https://github.com/tuwiendsg/MELA" class="button"><small>View project on</small>GitHub</a>
            </div>
        </header>


        <div id="horizontalNav"> 
            <ul>
                <li><a href="./index.html" id="homenav">Home</a></li>
                <li><a href="./background.html" id="Background">Background</a>
                <li><a href="./guide.html" id="guide">Documentation</a>  
                    <ul>
                        <li><a href="./guide.html" >MELA Overview</a> </li>
                        <li><a href="./dataService.html">MELA Data Service</a></li> 
                        <li><a href="./spaceAndPathwayAnalysisService.html">MELA Elasticity Analysis</a></li>
                        <li><div id="currentNav"><a href="./costEvaluationService.html">MELA Cost Evaluation</a> </div>
                            <div >
                                <ul> 
                                    <li><a href="#introduction">Overview</a></li>  
                                    <li><a href="#describeCloudScheme">Cloud pricing scheme specification</a></li>  
                                    <li><a href="#rules">Collecting required monitoring information</a></li>  
                                    <li><a href="#serviceStruct">Specifying used cloud offered services</a></li>  
                                    <li><a href="#api">API</a></li>  
                                    <li><a href="#example">Usage example/demo</a></li>  
                                </ul>	
                            </div>
                        </li> 
                        <li><a href="./compiling.html">Compiling and deployment</a></li>
                        <li><a href="./demos.html">Demos and examples</a></li>  
                        <li><a href="./others.html">Other resources</a></li>
                    </ul>
                </li> 
                <li><a href="./contact.html" id="contactnav">Contact</a></li>
            </ul>

        </div>

        <div id="content-wrapper">

            <aside id="navibar">

                <div id="nav">
                    <ul>
                        <li><a href="./index.html" id="homenav">Home</a></li>
                        <li><a href="./background.html" id="Background">Background</a>
                        <li><a href="./guide.html" id="guide">Documentation</a>  
                            <ul>
                                <li><a href="./guide.html" >MELA Overview</a> </li>
                                <li><a href="./dataService.html">MELA Data Service</a></li> 
                                <li><a href="./spaceAndPathwayAnalysisService.html">MELA Elasticity Analysis</a></li>
                                <li><div id="currentNav"><a href="./costEvaluationService.html">MELA Cost Evaluation</a> </div>
                                    <div id="subnav">
                                        <ul> 
                                            <li><a href="#introduction">Overview</a></li>  
                                            <li><a href="#describeCloudScheme">Cloud pricing scheme specification</a></li>  
                                            <li><a href="#rules">Collecting required monitoring information</a></li>  
                                            <li><a href="#serviceStruct">Specifying used cloud offered services</a></li>  
                                            <li><a href="#api">API</a></li>
                                            <li><a href="#example">Usage example/demo</a></li>   
                                        </ul>	
                                    </div>
                                </li> 

                                <li><a href="./compiling.html">Compiling and deployment</a></li>
                                <li><a href="./demos.html">Demos and examples</a></li>  
                                <li><a href="./others.html">Other resources</a></li>
                            </ul>
                        </li> 
                        <li><a href="./contact.html" id="contactnav">Contact</a></li>
                    </ul>

                </div>
            </aside>


            <div class="inner clearfix">
                <section id="main-content">
                    <div>
                        <h1>  <a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Overview</h1>

                        <p>
                            What is important from a cost perspective is that usually, different combinations of services have different pricing schemes, and different elastic services could use at run-time different services with specific configurations, influencing the service cost.  Involving different pricing schemes for different combinations of services, cost complexity also depends on the complexity of a cloud service’s deployment structure. Moreover, depending on the level of knowledge and particular interests of the user, some users might be interested in very complex and complete cost evaluation, while others.html might be content with an estimation over cost, even if not completely accurate. </p>

                        <p>
                            To this end, we decided to provide two cost composition mechanisms, one using MELA’s composition rules for directly enriching monitoring information with a service’s cost based on simple cost schemes; and one providing a separate MELA Composable Cost Evaluation Service, using detailed complex cloud pricing schemes. 
                        </p>
                        <p>
                            Cost of using cloud services to run elastic services is, in many cases, complex. Many existing cloud services can be configured and used in association, either mandatory or optional, with other services. For example, considering the <a href="http://aws.amazon.com/ec2/">Amazon EC2</a> IaaS services, a particular virtual machine (VM) service can be instantiated on different “availability regions”, the cost of the VM service depending on the chosen region. Many of the offered VM types can optionally use at run-time the Amazon Elastic Block Store storage service [AmazonEBS], and for additional cost, the VM can be instantiated as EBS Optimized. Moreover, some Amazon VM services, e.g., T2 series (t2.micro, t2.small, t2.medium), can be used only in conjunction with other services, in this case with an EBS storage. Thus, the cost of running T2 instances depends on the type of instance (i.e., instance resources), the availability region where the instance is deployed, and the cost of using the EBS storage. In turn, the cost of using EBS depends on the EBS storage option chosen, from General Purpose EBS at $0.10 per GB-month, to Amazon EBS Magnetic volumes costing $0.05 per GB-monthof provisioned storage and $0.05 per 1 million I/O requests.
                            Evaluating cost even over a single IaaS service can be complex, due to different possible configurations of that service. For capturing this complexity, we extend the <a href="http://link.springer.com/chapter/10.1007/978-3-662-44879-3_7">model</a> for associating pricing schemes to cloud offered services, considering cloud offered services as service units, which can have Mandatory and Optional configuration options with respect to Cost, Quality, and Resources. Each of these entities, i.e., configuration options, or the service unit, can have associated different Cost Functions with different Cost Element instances. A Cost Element describes one unit of the entity’s cost, such as cost per using EBS, or cost per particular availability regions. Cost can be Periodic (e.g., hourly, monthly), or per Usage (e.g., per million I/O), is reported per periodicity or usage Unit(e.g., 1 month, 1 million I/O), over a service Metric (e.g., VM uptime, I/O). Cost can be defined from static cost per period/usage, to cost intervals, such as first million I/O free, next million $0.05. We capture such cost intervals using a costFunction specifying cost over different intervals of measured Units of the cost Metric. Finally, as cost can depend on the mandatory/optional association of the entity with other entities (service units, or quality, cost, resource options), an inAssociationWith property describes if the described cost should be applied when the entity is associated with certain other entities.
                        </p>
                        <p>
                        <center>
                            <figure>
                                <img src="images/cloudServiceModel.png" alt="Cloud Service Cost Model" width="100%"/>
                                <figcaption>Cloud Service Cost Model</figcaption>
                            </figure>
                        </center>
                    </p><p>
                    Using this model for associating cost to cloud services, we can capture from simple cost functions, such as fixed cost per used cloud service, to cost per service if used in conjunction with other services, with respect to the service usage so far (usage intervals). Using this cost composition model, the MELA Composable Cost Evaluation service computes in detail the cost for the whole service or individual units, using information about the cloud services used by the service, and structured monitoring information provided by the MELA Data Service.
                </p>

            </div>


            <div>
                <h1><a name="describeCloudScheme" class="anchor" href="#describeCloudScheme"><span class="octicon octicon-link"></span></a>Describing Cloud Pricing Schemes</h1>

                <p> To evaluate cost, first the pricing scheme of the supported cloud providers needs to be described in XML. 
                    One separate XML file must be added for each cloud provider, in the "./config/default/" folder of MELA-ComplexCostEvaluationService.
                    To generate the cloud provider XML description we provide a fluent JAVA API.
                    Examples of using the API to describe the pricing scheme of cloud services offered by 
                    <a href="http://www.flexiant.com/2010/04/14/flexiscale-2-0-pricing/">Flexiant</a> is available 
                    <a href="https://github.com/tuwiendsg/MELA/blob/master/MELA-Extensions/MELA-ComplexCostEvaluationService/src/test/java/at/ac/tuwien/dsg/mela/costeval/pricingscheme/FlexiantCloudDescriptionGenerationTest.java#L163">here</a> and the generated XML is available 
                    <a href="https://github.com/tuwiendsg/MELA/blob/master/MELA-Extensions/MELA-ComplexCostEvaluationService/config/default/Flexiant.xml">here</a>, and partial description of <a ahref="aws.amazon.com/ec2/instance-types/">Amazon EC2</a> cost for VM, EBS and Network services can be found 
                    <a href="https://github.com/tuwiendsg/MELA/blob/master/MELA-Extensions/MELA-ComplexCostEvaluationService/src/test/java/at/ac/tuwien/dsg/mela/costeval/pricingscheme/AmazonFlexiantEquivalentCloudDescriptionGenerationTest.java#L174">here</a>  and the generated XML is available <a href="https://github.com/tuwiendsg/MELA/blob/master/MELA-Extensions/MELA-ComplexCostEvaluationService/config/default/Amazon.xml">here</a>. </p>

                <div id="pricingSchemeDescription">
                    <h3>Expand for detailed explanation of the concepts captured in the fluent API for describing code schemes</h3>
                    <div style="overflow-x: scroll;font-size: small;">
                        <ol>
                            <li>
                                <p>First, we defined the cloud provider with a unique identifier (ID)</p> 
                                <pre	class="prettyprint" style="background-color: white;">
CloudProvider provider = new CloudProvider("Flexiant");
provider.setUuid(UUID.fromString("10000000-0000-0000-0000-000000000001"));</pre>
                            </li>
                            <li><p>Next, we define the storage cloud service, with category, subcategory, name, and unique ID</p> <pre class="prettyprint"
                                                                                                                                       style="background-color: white;">
                                    CloudOfferedService unit = new CloudOfferedService()
                                    .withCategory("IaaS")
                                    .withSubcategory("VM")
                                    .withName("CloudStorage")
                                    .withUuid(UUID.fromString("30000000-0000-0000-0000-000000000002"));
                                </pre></li>

                            <li><p>Next, we define the cost functions for the service, with each cost element. For this service we have cost per disk size per hour, and cost per generated disk I/O</p> 
                                <pre class="prettyprint"
                                     style="background-color: white;">
                                    unit.withCostFunction(new CostFunction(unit.getName())
                                    .withCostElement(new CostElement("diskSizeCost")
                                    .withCostMetric(new Metric("diskSize", "GB", Metric.MetricType.RESOURCE))
                                    .withBillingCycle(CostElement.BillingCycle.HOUR)
                                    .withType(CostElement.Type.PERIODIC)

                                    //5 units per month => 5 /30 units per day per GB no mather how many GBs no mather how many hours
                                    .withBillingInterval(new MetricValue(Double.POSITIVE_INFINITY), 5d / 30 / 24 ))

                                    .withCostElement(new CostElement("diskUsageCost")
                                    .withCostMetric(new Metric("IODataSize", "GB", Metric.MetricType.RESOURCE)) 
                                    .withType(CostElement.Type.USAGE)
                                    .withBillingInterval(new MetricValue(Double.POSITIVE_INFINITY), 2d)));
                                </pre></li>

                            <li><p>Then we add the offered service to the provider.</p> <pre class="prettyprint"
                                                                                             style="background-color: white;">
                                    provider.addCloudOfferedService(unit);
                                </pre></li>


                            <li><p>We can easily generate the cloud provider XML by marshalling the defined cloud provider</p> 
                                <pre class="prettyprint"                                                                                           style="background-color: white;">
JAXBContext elementContext = JAXBContext.newInstance(CloudProvider.class);
//persist structure
Marshaller m = elementContext.createMarshaller();
m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
m.marshal(provider, new FileWriter("file"));
                                </pre></li>

                        </ol>
                    </div>

                </div>

            </div>


            <div>
                <h1><a name="configuration" class="anchor" href="#configuration"><span class="octicon octicon-link"></span></a>MELA service service specific configuration</h1>


                <h2><a name="rules" class="anchor" href="#rules"><span class="octicon octicon-link"></span></a>Collecting required monitoring information</h2>
                <p>To enable cost evaluation, we must ensure we first collect the required monitoring information, according to the cost metrics defined in the cloud pricing scheme. To this end, MELA <a href="./dataService.html#rulesSpecification">metric composition rules</a> should be defined, depending on the <a href="./compiling.html">configured</a> monitoring data sources.</p>

                <div id="compositionRuleDescription">
                    <h3>While can be written directly in XML, we also provide support for generating the composition rules from Jav</h3>
                    <div style="overflow-x: scroll;font-size: small;">
                        <ol>
                            <li>
                                <p>Example of defining a rule which retrieves from Ganglia the metric "dataOut" and "dataIn" expressed in bytes, converts them to GB, and sums them up over all VMs used by a service unit (for all service units, such as a Load Balancer, Data Node), creating a new "dataTransfer" metric.  </p> 
                                <pre class="prettyprint" style="background-color: white;">
//data transfer rule
CompositionRule computePublicIPDataTransferForServiceUnit = new CompositionRule()
    .withTargetMonitoredElementLevel(MonitoredElement.MonitoredElementLevel.SERVICE_UNIT)
    .withResultingMetric(new Metric("dataTransfer", "GB", Metric.MetricType.RESOURCE))
    .withOperation(new CompositionOperation()
            .withOperationType(CompositionOperationType.SUM)
            .withSubOperation(new CompositionOperation()
                    .withOperationType(CompositionOperationType.DIV)
                    .withMetricSourceMonitoredElementLevel(MonitoredElement.MonitoredElementLevel.VM)
                    .withReferenceMetric(new Metric("dataIn", "byte", Metric.MetricType.RESOURCE))
                    .withValue("" + ((Double) Math.pow(1024, 3)).toString())
            )
            .withSubOperation(new CompositionOperation()
                    .withOperationType(CompositionOperationType.DIV)
                    .withMetricSourceMonitoredElementLevel(MonitoredElement.MonitoredElementLevel.VM)
                    .withReferenceMetric(new Metric("dataOut", "byte", Metric.MetricType.RESOURCE))
                    .withValue("" + ((Double) Math.pow(1024, 3)).toString())
            )
    );
                                </pre>
                            </li>

                        </ol>
                    </div>

                </div>

                <h2><a name="serviceStruct" class="anchor" href="#serviceStruct"><span class="octicon octicon-link"></span></a>Specifying used cloud offered services</h2>
                <p>The next configuring step is specifying the service's configuration, with the used instances of cloud offered services. and submitting this structure to MELA Data Service</p>

                <div id="serviceStructureSpecification">
                    <h3>While the structure cab be written directly in XML, we also provide support for generating it from Jav</h3>
                    <div style="overflow-x: scroll;font-size: small;">
                        <ol>
                            <li>
                                <p>Example of service structure with used cloud offered services</p> 
                                <pre class="prettyprint" style="background-color: white;">
 MonitoredElement service = new MonitoredElement("Service").withLevel(MonitoredElement.MonitoredElementLevel.SERVICE)
    //with used network service
    .withCloudOfferedService(new UsedCloudOfferedService(provider.getUuid(), "Flexiant", UUID.fromString("30000000-0000-0000-0000-000000000001"), "PublicVLAN"))
    //local processing topology
    .withContainedElement(new MonitoredElement("LocalProcessingTopology").withLevel(MonitoredElement.MonitoredElementLevel.SERVICE_TOPOLOGY)
         //local processing unit 
         .withContainedElement(new MonitoredElement("LocalProcessingUnit").withLevel(MonitoredElement.MonitoredElementLevel.SERVICE_UNIT)
                //used image storage 
                .withCloudOfferedService(new UsedCloudOfferedService(provider.getUuid(), "Flexiant", UUID.fromString("40000000-0000-0000-0000-000000000001"), "ImageStorage"))
                //first unit instance using a VM service
                .withContainedElement(new MonitoredElement("10.99.0.40").withLevel(MonitoredElement.MonitoredElementLevel.VM)
                        .withCloudOfferedService(new UsedCloudOfferedService(provider.getUuid(), "Flexiant", UUID.fromString("20000000-0000-0000-0000-000000000001"), "1CPU1")
                                                    //the ID of the service instance 
                                                    .withInstanceUUID(UUID.randomUUID()))
                        .withCloudOfferedService(new UsedCloudOfferedService(provider.getUuid(), "Flexiant", UUID.fromString("30000000-0000-0000-0000-000000000002"), "CloudStorage")
                                                    //the ID of the service instance 
                                                    .withInstanceUUID(UUID.randomUUID()))))
                .withContainedElement(new MonitoredElement("10.99.0.23").withLevel(MonitoredElement.MonitoredElementLevel.VM)
                                                                .withCloudOfferedService(new UsedCloudOfferedService(provider.getUuid(), "Flexiant", UUID.fromString("20000000-0000-0000-0000-000000000001"), "1CPU1")
                                                    //the ID of the service instance 
                                                    .withInstanceUUID(UUID.randomUUID()))
                        .withCloudOfferedService(new UsedCloudOfferedService(provider.getUuid(), "Flexiant", UUID.fromString("30000000-0000-0000-0000-000000000002"), "CloudStorage")
                                                    //the ID of the service instance 
                                                    .withInstanceUUID(UUID.randomUUID())))
                )
        )
        ;

                                </pre>
                            </li>

                        </ol>
                    </div>

                </div> 





                <div>
                    <h1><a name="api" class="anchor" href="#api"><span class="octicon octicon-link"></span></a>MELA Composable Cost Evaluation Service RESTful API</h1>

                    <p>MELA-ComposableCostEvaluationService exposes a RESTful API, in which the
                            service ID or version is marked with the '{serviceID}' parameter. The API enables a user to list the managed cloud services
                            (call 1), and retrieve their current structure, containing the used cloud offered services (calls 2-3). The complete decomposition of system total cost can be 
                            retrieved with calls 5-6. Decomposition of total and instant can be retrieved in different formats (tree, pie chart), and for specific moments
                            in time using calls 7-18. The cost of a different configuration for an already monitored service can be analyzed by 
                            using call 19. Calls 20-27 provide in different formats information about the cost efficiency of the analyzed service, 
                            while call 28 returns complete historical cost decomposition in CSV.
                           </p>

                    <div id="apiTable"></div>


                </div>
            </div>
                    
       <h1><a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>MELA Cost Evaluation example/demo</h1>
       In the following example we showcase our the MELA Cost Evaluation service evaluating cost for an elastic system controlled by different scaling strategies.
       <iframe width="620" height="450" src="https://www.youtube.com/embed/FKUCZek3xWY" frameborder="0" allowfullscreen></iframe>             
                    
        </section>

        <aside id="sidebar">
            <a href="http://www.tuwien.ac.at/" class="button" style="background: url(./images/TU_logo.png) 0 0 no-repeat; height:70px;  width:300px">
            </a>

            <a href="http://www.infosys.tuwien.ac.at/" class="button" style="background: url(./images/dsgComplet.png) 0 0 no-repeat; background-size:100%; width:300px; height:70px">
            </a>

            <p class="repo-owner" style="width:300px"><a href="https://github.com/tuwiendsg/MELA"></a> Maintained and distributed by <a href="http://www.infosys.tuwien.ac.at/staff/dmoldovan/"> Daniel Moldovan </a>
                </br> </br><a href="http://www.infosys.tuwien.ac.at/">Distributed Systems Group</a>
                , <a href="http://www.tuwien.ac.at/">Vienna University of Technology</a>.</p>
        </aside>


        <aside id="sidebar">
            <a href="https://github.com/tuwiendsg/MELA/zipball/master" class="button">
                <small>Download</small>
                .zip file
            </a>
            <a href="https://github.com/tuwiendsg/MELA/tarball/master" class="button">
                <small>Download</small>
                .tar.gz file
            </a>

            <p class="repo-owner"><a href="https://github.com/tuwiendsg/MELA"></a> is maintained by <a href="https://github.com/tuwiendsg">tuwiendsg</a>.</p>

        </aside>



    </div>
</div>


</body>
</html>
